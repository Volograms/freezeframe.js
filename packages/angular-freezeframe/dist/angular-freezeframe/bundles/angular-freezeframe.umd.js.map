{"version":3,"file":"angular-freezeframe.umd.js","sources":["../../../projects/angular-freezeframe/src/lib/angular-freezeframe.component.ts","../../../projects/angular-freezeframe/src/lib/angular-freezeframe.module.ts","../../../projects/angular-freezeframe/src/public-api.ts","../../../projects/angular-freezeframe/src/angular-freezeframe.ts"],"sourcesContent":["/* eslint-disable @angular-eslint/component-selector */\nimport { Component, ElementRef, Input, Output, ViewChild, EventEmitter, AfterViewInit, OnDestroy } from '@angular/core';\nimport Freezeframe from 'freezeframe'\nimport { FreezeframeOptions, Freeze } from 'freezeframe/types'\n\nexport interface AngularFreezeframeEvent {\n  items: Freeze[],\n  isPlaying: boolean\n}\n\nconst SELECTOR = 'angular-freezeframe'\n\n@Component({\n  selector: SELECTOR,\n  template: `\n    <div class=\"${SELECTOR}\">\n      <div *ngIf=\"!slotRef.innerHTML.trim()\">\n        <img #freezeRef src=\"{{src}}\" />\n      </div>\n      <div #slotRef><ng-content></ng-content></div>\n    </div>\n  `\n})\nexport class AngularFreezeframeComponent implements AfterViewInit, OnDestroy {\n  $freezeframe!: Freezeframe\n  isPlaying = false\n\n  @Input() src?: string\n  @Input() options?: FreezeframeOptions\n  @Output() startEvent = new EventEmitter<AngularFreezeframeEvent>();\n  @Output() stopEvent = new EventEmitter<AngularFreezeframeEvent>();\n  @Output() toggleEvent = new EventEmitter<AngularFreezeframeEvent>();\n\n  @ViewChild('freezeRef') freezeRef!: ElementRef;\n  @ViewChild('slotRef') slotRef!: ElementRef;\n\n  ngAfterViewInit(): void {\n    this.init()\n  }\n\n  ngOnDestroy(): void {\n    this.destroy()\n  }\n\n  private init(): void {\n    const target = this.slotIsEmpty && this.src\n      ? this.freezeRef.nativeElement\n      : this.slotRef.nativeElement\n    this.$freezeframe = new Freezeframe(target, this.options)\n    this.initEventListeners()\n  }\n\n  private initEventListeners(): void {\n    this.$freezeframe.on('toggle', (items: Freeze[], isPlaying: boolean) => {\n      this.isPlaying = isPlaying\n      if (isPlaying) {\n        this.startEvent.emit({ items, isPlaying })\n      } else {\n        this.stopEvent.emit({ items, isPlaying })\n      }\n      this.toggleEvent.emit({ items, isPlaying })\n    });\n  }\n\n  private get slotIsEmpty(): boolean {\n    return !this.slotRef?.nativeElement?.innerHTML?.trim()\n  }\n\n  start(): void {\n    this.$freezeframe?.start()\n  }\n\n  stop(): void {\n    this.$freezeframe?.stop()\n  }\n\n  toggle(): void {\n    this.$freezeframe?.toggle()\n  }\n\n  destroy(): void {\n    this.$freezeframe?.destroy()\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { AngularFreezeframeComponent } from './angular-freezeframe.component';\n\n@NgModule({\n  declarations: [AngularFreezeframeComponent],\n  imports: [\n  ],\n  exports: [AngularFreezeframeComponent]\n})\nexport class AngularFreezeframeModule { }\n","/*\n * Public API Surface of angular-freezeframe\n */\n\nexport * from './lib/angular-freezeframe.component';\nexport * from './lib/angular-freezeframe.module';\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":["EventEmitter","Freezeframe","Component","Input","Output","ViewChild","NgModule"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;EAAA;;;;;;;;;;;;;;;;EAUA,IAAM,QAAQ,GAAG,qBAAqB,CAAA;AAatC,MAAA,2BAAA,kBAAA,YAAA;EAXA,IAAA,SAAA,2BAAA,GAAA;EAaE,QAAA,IAAS,CAAA,SAAA,GAAG,KAAK,CAAA;EAIP,QAAA,IAAA,CAAA,UAAU,GAAG,IAAIA,eAAY,EAA2B,CAAC;EACzD,QAAA,IAAA,CAAA,SAAS,GAAG,IAAIA,eAAY,EAA2B,CAAC;EACxD,QAAA,IAAA,CAAA,WAAW,GAAG,IAAIA,eAAY,EAA2B,CAAC;OAoDrE;EA/CC,IAAA,2BAAA,CAAA,SAAA,CAAA,eAAe,GAAf,YAAA;UACE,IAAI,CAAC,IAAI,EAAE,CAAA;OACZ,CAAA;EAED,IAAA,2BAAA,CAAA,SAAA,CAAA,WAAW,GAAX,YAAA;UACE,IAAI,CAAC,OAAO,EAAE,CAAA;OACf,CAAA;EAEO,IAAA,2BAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,YAAA;UACN,IAAM,MAAM,GAAG,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,GAAG;EACzC,cAAE,IAAI,CAAC,SAAS,CAAC,aAAa;EAC9B,cAAE,IAAI,CAAC,OAAO,CAAC,aAAa,CAAA;EAC9B,QAAA,IAAI,CAAC,YAAY,GAAG,IAAIC,+BAAW,CAAC,MAAM,EAAE,IAAI,CAAC,OAAO,CAAC,CAAA;UACzD,IAAI,CAAC,kBAAkB,EAAE,CAAA;OAC1B,CAAA;EAEO,IAAA,2BAAA,CAAA,SAAA,CAAA,kBAAkB,GAAlB,YAAA;UAAA,IAUP,KAAA,GAAA,IAAA,CAAA;UATC,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,QAAQ,EAAE,UAAC,KAAe,EAAE,SAAkB,EAAA;EACjE,YAAA,KAAI,CAAC,SAAS,GAAG,SAAS,CAAA;EAC1B,YAAA,IAAI,SAAS,EAAE;EACb,gBAAA,KAAI,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,KAAK,EAAA,KAAA,EAAE,SAAS,EAAA,SAAA,EAAE,CAAC,CAAA;EAC3C,aAAA;EAAM,iBAAA;EACL,gBAAA,KAAI,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,KAAK,EAAA,KAAA,EAAE,SAAS,EAAA,SAAA,EAAE,CAAC,CAAA;EAC1C,aAAA;EACD,YAAA,KAAI,CAAC,WAAW,CAAC,IAAI,CAAC,EAAE,KAAK,EAAA,KAAA,EAAE,SAAS,EAAA,SAAA,EAAE,CAAC,CAAA;EAC7C,SAAC,CAAC,CAAC;OACJ,CAAA;EAED,IAAA,MAAA,CAAA,cAAA,CAAY,2BAAW,CAAA,SAAA,EAAA,aAAA,EAAA;EAAvB,QAAA,GAAA,EAAA,YAAA;;EACE,YAAA,OAAO,EAAC,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,CAAA,EAAA,GAAA,IAAI,CAAC,OAAO,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,aAAa,0CAAE,SAAS,MAAA,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAE,IAAI,EAAE,CAAA,CAAA;WACvD;;;EAAA,KAAA,CAAA,CAAA;EAED,IAAA,2BAAA,CAAA,SAAA,CAAA,KAAK,GAAL,YAAA;;UACE,CAAA,EAAA,GAAA,IAAI,CAAC,YAAY,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,KAAK,EAAE,CAAA;OAC3B,CAAA;EAED,IAAA,2BAAA,CAAA,SAAA,CAAA,IAAI,GAAJ,YAAA;;UACE,CAAA,EAAA,GAAA,IAAI,CAAC,YAAY,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,IAAI,EAAE,CAAA;OAC1B,CAAA;EAED,IAAA,2BAAA,CAAA,SAAA,CAAA,MAAM,GAAN,YAAA;;UACE,CAAA,EAAA,GAAA,IAAI,CAAC,YAAY,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,MAAM,EAAE,CAAA;OAC5B,CAAA;EAED,IAAA,2BAAA,CAAA,SAAA,CAAA,OAAO,GAAP,YAAA;;UACE,CAAA,EAAA,GAAA,IAAI,CAAC,YAAY,MAAE,IAAA,IAAA,EAAA,KAAA,KAAA,CAAA,GAAA,KAAA,CAAA,GAAA,EAAA,CAAA,OAAO,EAAE,CAAA;OAC7B,CAAA;;;wGA3DU,2BAA2B,GAAA,CAAA,EAAA,CAAA;2FAA3B,2BAA2B,EAAA,SAAA,EAAA,CAAA,CAAA,qBAAA,CAAA,CAAA,EAAA,SAAA,EAAA,SAAA,iCAAA,CAAA,EAAA,EAAA,GAAA,EAAA;UAAA,IAAA,EAAA,GAAA,CAAA,EAAA;;;;;;;;;;;;;;;;;;;;;;;;;;yFAA3B,2BAA2B,EAAA,CAAA;oBAXvCC,YAAS;EAAC,YAAA,IAAA,EAAA,CAAA;EACT,oBAAA,QAAQ,EAAE,QAAQ;sBAClB,QAAQ,EAAE,qBACM,GAAA,QAAQ,GAMvB,qLAAA;mBACF,CAAA;sBAKU,GAAG,EAAA,CAAA;wBAAXC,QAAK;kBACG,OAAO,EAAA,CAAA;wBAAfA,QAAK;kBACI,UAAU,EAAA,CAAA;wBAAnBC,SAAM;kBACG,SAAS,EAAA,CAAA;wBAAlBA,SAAM;kBACG,WAAW,EAAA,CAAA;wBAApBA,SAAM;kBAEiB,SAAS,EAAA,CAAA;wBAAhCC,YAAS;yBAAC,WAAW,CAAA;kBACA,OAAO,EAAA,CAAA;wBAA5BA,YAAS;yBAAC,SAAS,CAAA;;;;ACzBtB,MAAA,wBAAA,kBAAA,YAAA;EAAA,IAAA,SAAA,wBAAA,GAAA;;;;kGAAa,wBAAwB,GAAA,CAAA,EAAA,CAAA;uFAAxB,wBAAwB,EAAA,CAAA,CAAA;2FAJ1B,EACR,CAAA,EAAA,CAAA,CAAA;;yFAGU,wBAAwB,EAAA,CAAA;oBANpCC,WAAQ;EAAC,YAAA,IAAA,EAAA,CAAA;sBACR,YAAY,EAAE,CAAC,2BAA2B,CAAC;EAC3C,oBAAA,OAAO,EAAE,EACR;sBACD,OAAO,EAAE,CAAC,2BAA2B,CAAC;mBACvC,CAAA;;;qGACY,wBAAwB,EAAA,EAAA,YAAA,EAAA,CALpB,2BAA2B,CAAA,EAAA,OAAA,EAAA,CAGhC,2BAA2B,CAAA,EAAA,CAAA,CAAA,EAAA,GAAA;;ECPvC;;EAEG;;ECFH;;EAEG;;;;;;;;;;;"}